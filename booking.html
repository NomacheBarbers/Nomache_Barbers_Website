<!DOCTYPE html>
<html>
  <head>
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="Cross-Origin-Opener-Policy" content="same-origin-allow-popups">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> 
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id" content="YOUR_CLIENT_ID.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js?onload=renderApp" async defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>nomachebarbers.com</title>
    <link href="styles/style.css" rel="stylesheet" type="text/css"/>
    <link href="styles/booking.css" rel="stylesheet" type="text/css"/>

    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>

    <script type="module">
      import { Octokit } from "https://esm.sh/@octokit/rest";
      import { createBasicAuth } from "https://esm.sh/@octokit/auth-basic";
      

      const message = 'testing';
      var content = 'BEANS!!!!!!';
      const OWNER_NAME = 'NomacheBarbers';
      const REPO_NAME = 'BarberShopData';
      const FILE_PATH = 'data.json';
      const auth = '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';
      const branch = 'master';

      const octokit = new Octokit({
            auth: auth
          });




      async function getFileContent(owner, repo, filePath, ref = 'master') {
      try {
    const response = await octokit.repos.getContent({
      owner,
      repo,
      path: filePath,
      ref
    });

    // Decode the base64 content
    const content = atob(response.data.content);//Buffer.from(response.data.content, 'base64').toString();

    console.log(`File content for ${filePath}:`);
    console.log(content);
  } catch (error) {
    console.error('Error fetching file content:', error.message);
  }
}

// Usage example
//getFileContent('NomacheBarbers', 'BarberShopData', 'data.json');

window.get_booking_data2 = getFileContent;
    </script>
    
    </script>

    <script>
      function handleCredentialResponse(response) {
          decodeJwtResponse(response.credential);
      }
  </script>



    <script src="javascript/signin.js" type = 'text/javascript'></script>
    <script src="javascript/switch_pages.js" type = 'text/javascript'></script>
    <script src="javascript/booking.js" type = 'text/javascript'></script>


  </head>
    <body>
        <div class = 'background'></div>
    <main>

      <meta name="google-signin-client_id" content="136068126104-vttc1k20f36cqg6q4el9q5atba4lsv5t.apps.googleusercontent.com">
      <div class="g-signin2" data-onsuccess="onSignIn"></div>
      <a href="#" onclick="signOut();">Sign out</a>
        
      <e id = 'top_bar_element' class= "top_bar_set">
        <img draggable="false" src = "images/test_barbers.png" class = 'top_img'>
        <button class = "home_button" onclick = "open_home()">Home</button>
        <button class = "phone_button" >Phone</button>
        <button class = "book_button" onclick = "open_booking()">Book</button>
      </e>

    </main>

    <br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br>
    <center>

    <div class = 'container'>

        <div>
          <div class="weekdays">
            <p id = 'month_name' class = 'monthp'>January</p>

            <e class="month" id = 'month'>
              <button id = 'prev' class = 'prev' onclick = "change_month(-1)">&#10094;</button>
              <button id = "next" class = "next" onclick = "change_month(1)">&#10095;</button>
            </e>
            <li>Mon Tue Wed Thu Fri Sat Sun</li>

          </div>
          <ul class="days" id = 'day'>
          </ul>
        </div>



          <ul class="times" id = 'times'>
            <div id = 'morning'></div>
            <br>
            <div id = 'afternoon'></div>
        </ul>

    </div>

    <button onclick = "window.get_booking_data2('NomacheBarbers', 'BarberShopData', 'data.json');">TEST SEND!</button>
    
    <h1 id = 'total_string'>Date: None Selected</h1>
</center>
 
    <footer>
<center>

    <br><br><br><br><br><br><br><br><br><br>
<p>&#169;Copyright of Nomache Barbers (2024 - 2024)</p>
</center>
    </footer>
  </body>
</html>
